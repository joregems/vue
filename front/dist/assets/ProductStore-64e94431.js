import{l as y,r as i,n}from"./index-c678826f.js";const w={name:{type:"text",icon:"mdi-arrow-down-circle-outline",label:"proct's name"},description:{type:"text",icon:"mdi-arrow-down-circle-outline",label:"proct's description"},sku:{type:"text",icon:"mdi-arrow-down-circle-outline",label:"sku"},categoryId:{type:"text",icon:"mdi-arrow-down-circle-outline",label:"category id"},price:{type:"text",icon:"mdi-arrow-down-circle-outline",label:"proct's price"},coverImage:{type:"file",icon:"",label:"select an image"}},f=y("productStore",()=>{const a=i({}),c=i({}),p=t=>(t=Object.is(t,null)?[""]:t,t=typeof t=="object"?t[0]:t,t);async function s(t){const r=new FormData;return r.append("coverImage",p(t.coverImage)),r.append("name",t.name),r.append("description",t.description),r.append("sku",t.sku),r.append("categoryId",t.categoryId),r.append("price",t.price),n.post("products",r).then(e=>e).catch(e=>{throw e})}async function o(){return await n.get("products").then(t=>{const r=Object.assign({},...t.data.map(e=>({[e.uuid]:e})));a.value=r},t=>{throw console.log(t),t})}function d(){return JSON.parse(JSON.stringify(w))}function u(t){c.value=t}async function l(t){const r="products/"+t.uuid;return n.put(r,t).then(async e=>(await o(),e),e=>{throw e})}async function m(t){const r="products/"+t.uuid;return n.delete(r,t).then(async e=>(c.value={},await o(),e),e=>{throw e})}return{product:c,products:a,$get_adapter:d,$set_product:u,$create_product:s,$get_products_from_api:o,$delete:m,$update:l}});export{w as p,f as u};
