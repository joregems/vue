import{_ as j,r as v,q as S,c as x,w as b,b as d,h as p,i as y,e as a,F as B,V as U,d as _,t as f,v as w,x as N,y as O,z as G,o as i,A,B as C,C as E}from"./index-c678826f.js";const M={key:0},T={key:1},$={key:2},q={inheritAttrs:!1},z=Object.assign(q,{__name:"GenericForm",props:{obj:Object,submitName:String,adapter:Object,submit:Function,errors:Array,callback:Function},setup(V){const o=v([]),u=V,l=v({}),t=u.adapter,h=u.submitName??"Submit",g=(r,n)=>r.filter(e=>n.includes(e));S(()=>{l.value={...u.obj}});async function F(r,n){const e=s=>{const m={};return s.forEach(c=>{try{m[c.path].push(c.message)}catch{m[c.path]=[c.message]}}),m};u.submit(r).then(s=>{o.value=["updated successfully"];try{n(),u.callback()}catch{}},s=>{console.log(s),o.value=[];try{o.value=e(s.response.data.errors)}catch{try{o.value=e(s.response.data)}catch{}}})}return(r,n)=>(i(),x(G,{width:"300",class:"mx-auto"},{default:b(()=>[d(N,{enctype:"multipart/form-data",onSubmit:n[0]||(n[0]=w(()=>{F(l.value,()=>r.$emit("close"))},["prevent"]))},{default:b(()=>[(i(!0),p(B,null,y(g(Object.keys(l.value),Object.keys(a(t))),e=>(i(),p("div",null,[a(t)[e].type=="options"?(i(),p("div",M,[d(A,{type:a(t)[e].type,variant:"solo","prepend-inner-icon":a(t)[e].icon,modelValue:l.value[e],"onUpdate:modelValue":s=>l.value[e]=s,disabled:a(t)[e].disabled,label:a(t)[e].label,items:a(t)[e].items,"error-messages":o.value[e]},null,8,["type","prepend-inner-icon","modelValue","onUpdate:modelValue","disabled","label","items","error-messages"])])):a(t)[e].type=="file"?(i(),p("div",T,[d(C,{type:"file",label:a(t)[e].label,modelValue:l.value[e],"onUpdate:modelValue":s=>l.value[e]=s,"truncate-length":"15"},{default:b(()=>[_(f(e),1)]),_:2},1032,["label","modelValue","onUpdate:modelValue"])])):(i(),p("div",$,[d(E,{type:a(t)[e].type,variant:"solo","prepend-inner-icon":a(t)[e].icon,modelValue:l.value[e],"onUpdate:modelValue":s=>l.value[e]=s,disabled:a(t)[e].disabled,label:a(t)[e].label,"error-messages":o.value[e]},null,8,["type","prepend-inner-icon","modelValue","onUpdate:modelValue","disabled","label","error-messages"])]))]))),256)),d(U,{type:"submit",block:"",class:"mt-2"},{default:b(()=>[_(f(a(h)),1)]),_:1})]),_:1}),O(r.$slots,"down")]),_:3}))}}),I=j(z,[["__file","/app/src/components/GenericForm.vue"]]);export{I as G};
